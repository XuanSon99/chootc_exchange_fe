(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2cd293c1"],{1276:function(t,e,n){"use strict";var a=n("d784"),r=n("44e7"),o=n("825a"),i=n("1d80"),l=n("4840"),c=n("8aa5"),s=n("50c4"),d=n("577e"),u=n("14c3"),f=n("9263"),h=n("9f7f"),v=n("d039"),p=h.UNSUPPORTED_Y,m=[].push,g=Math.min,y=4294967295,b=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=d(i(this)),o=void 0===n?y:n>>>0;if(0===o)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,o);var l,c,s,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,p=new RegExp(t.source,h+"g");while(l=f.call(p,a)){if(c=p.lastIndex,c>v&&(u.push(a.slice(v,l.index)),l.length>1&&l.index<a.length&&m.apply(u,l.slice(1)),s=l[0].length,v=c,u.length>=o))break;p.lastIndex===l.index&&p.lastIndex++}return v===a.length?!s&&p.test("")||u.push(""):u.push(a.slice(v)),u.length>o?u.slice(0,o):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,r,n):a.call(d(r),e,n)},function(t,r){var i=o(this),f=d(t),h=n(a,i,f,r,a!==e);if(h.done)return h.value;var v=l(i,RegExp),m=i.unicode,b=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(p?"g":"y"),x=new v(p?"^(?:"+i.source+")":i,b),w=void 0===r?y:r>>>0;if(0===w)return[];if(0===f.length)return null===u(x,f)?[f]:[];var k=0,_=0,S=[];while(_<f.length){x.lastIndex=p?0:_;var A,D=u(x,p?f.slice(_):f);if(null===D||(A=g(s(x.lastIndex+(p?_:0)),f.length))===k)_=c(f,_,m);else{if(S.push(f.slice(k,_)),S.length===w)return S;for(var C=1;C<=D.length-1;C++)if(S.push(D[C]),S.length===w)return S;_=k=A}}return S.push(f.slice(k)),S}]}),!b,p)},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"44e7":function(t,e,n){var a=n("861d"),r=n("c6b6"),o=n("b622"),i=o("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},"4df4":function(t,e,n){"use strict";var a=n("0366"),r=n("7b0b"),o=n("9bdd"),i=n("e95a"),l=n("50c4"),c=n("8418"),s=n("9a1f"),d=n("35a1");t.exports=function(t){var e,n,u,f,h,v,p=r(t),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,b=void 0!==y,x=d(p),w=0;if(b&&(y=a(y,g>2?arguments[2]:void 0,2)),void 0==x||m==Array&&i(x))for(e=l(p.length),n=new m(e);e>w;w++)v=b?y(p[w],w):p[w],c(n,w,v);else for(f=s(p,x),h=f.next,n=new m;!(u=h.call(f)).done;w++)v=b?o(f,y,[u.value,w],!0):u.value,c(n,w,v);return n.length=w,n}},"841c":function(t,e,n){"use strict";var a=n("d784"),r=n("825a"),o=n("1d80"),i=n("129f"),l=n("577e"),c=n("14c3");a("search",(function(t,e,n){return[function(e){var n=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,n):new RegExp(e)[t](l(n))},function(t){var a=r(this),o=l(t),s=n(e,a,o);if(s.done)return s.value;var d=a.lastIndex;i(d,0)||(a.lastIndex=0);var u=c(a,o);return i(a.lastIndex,d)||(a.lastIndex=d),null===u?-1:u.index}]}))},"8a52":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("v-container",[n("v-card",[n("v-card-title",[n("v-icon",{staticClass:"mr-2",attrs:{color:"primary",large:""}},[t._v("mdi-account-circle-outline")]),t._v(" DANH SÁCH GIAO DỊCH "),n("v-spacer"),n("div",{staticClass:"mr-5 filter-date"},[n("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"Lọc theo thời gian",readonly:"",outlined:"",dense:"","append-icon":"mdi-calendar-range"},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",r,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[n("v-date-picker",{attrs:{range:""},on:{input:function(e){t.menu1=!1}},model:{value:t.filter.dates,callback:function(e){t.$set(t.filter,"dates",e)},expression:"filter.dates"}})],1)],1),n("v-btn",{staticClass:"elevation-0",attrs:{color:"primary",small:"",fab:""},on:{click:t.refreshFilter}},[n("v-icon",[t._v(" mdi-refresh ")])],1)],1),n("v-data-table",{attrs:{headers:t.headers,items:t.data,"items-per-page":10,page:t.page,"server-items-length":t.totalItems,"footer-props":{"items-per-page-options":[10,10]}},on:{"update:page":function(e){t.page=e}},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.formatDate(n.created_at))+" ")]}},{key:"item.money",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.formatMoney(n.money))+" VND ")]}},{key:"item.amount",fn:function(e){var a=e.item;return[n("div",{staticClass:"uppercase"},[t._v(" "+t._s(a.amount)+" "+t._s(a.token)+" ")])]}},{key:"item.type",fn:function(e){var a=e.item;return[a.txhash?n("span",{staticClass:"main-color"},[t._v("Đơn mua")]):n("span",{staticClass:"error-color"},[t._v("Đơn bán")])]}},{key:"item.status",fn:function(e){var a=e.item;return[t.stateDetail(a.status)?n("span",{style:{color:""+t.stateDetail(a.status).color}},[t._v(" "+t._s(t.stateDetail(a.status).status)+" ")]):t._e()]}}],null,!0)})],1),n("v-card",{staticClass:"pa-6 mt-6",attrs:{outlined:""}},[n("div",{staticClass:"d-flex align-start"},[n("v-icon",{attrs:{color:"orange"}},[t._v("mdi-alert-outline")]),n("div",{staticClass:"warning-msg ml-2 mb-3"},[t._v(" Chương trình giới thiệu đang trong quá trình thử nghiệm. Hãy mời bạn bè đăng ký và thực hiện giao dịch bằng đường link bên dưới để nhận hoa hồng! ")])],1),n("div",{staticClass:"ref-link"},[n("v-text-field",{attrs:{value:t.ref_link,outlined:"",readonly:"","append-icon":"mdi-content-copy"},on:{"click:append":function(e){return t.copyText(t.ref_link)}}})],1)])],1)],1)},r=[];function o(t){if(Array.isArray(t))return t}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function i(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o=[],i=!0,l=!1;try{for(n=n.call(t);!(i=(a=n.next()).done);i=!0)if(o.push(a.value),e&&o.length===e)break}catch(c){l=!0,r=c}finally{try{i||null==n["return"]||n["return"]()}finally{if(l)throw r}}return o}}n("fb6a"),n("b0c0"),n("a630");function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function c(t,e){if(t){if("string"===typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t,e){return o(t)||i(t,e)||c(t,e)||s()}function u(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=c(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,r=function(){};return{s:r,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){l=!0,o=t},f:function(){try{i||null==n["return"]||n["return"]()}finally{if(l)throw o}}}}var f=n("5530"),h=(n("4de4"),n("a15b"),n("99af"),n("ac1f"),n("5319"),n("25f0"),n("b680"),n("159b"),n("1276"),n("841c"),n("2f62")),v={data:function(){return{search:"",dialog:!1,menu1:!1,headers:[{text:"Mã giao dịch",value:"code",sortable:!1},{text:"Loại đơn",value:"type",sortable:!1},{text:"Số điện thoại",value:"phone",sortable:!1},{text:"Số lượng",value:"amount",sortable:!1},{text:"Số tiền",value:"money",sortable:!1},{text:"Trạng thái",value:"status",sortable:!1},{text:"Thời gian",value:"created_at",sortable:!1}],data:[],edit_id:"",content:"",chat_id:"",page:1,totalItems:0,state_list:[],filter:{dates:[]},excel_htmls:""}},computed:Object(f["a"])(Object(f["a"])({},Object(h["b"])(["account"])),{},{dateRangeText:function(){return this.filter.dates[0]?this.filter.dates.join(" ~ "):""},ref_link:function(){return"https://exchange.chootc.com/register?ref=".concat(this.account.phone)}}),mounted:function(){var t=this;this.CallAPI("get","states",{},(function(e){t.state_list=e.data})),this.getData(),this.getDataExport()},methods:{refreshFilter:function(){this.filter.dates=[]},stateDetail:function(t){if(!this.state_list)return"";var e=this.state_list.filter((function(e){return e.id==t}));return e[0]},getData:function(){var t=this,e="ref-order?page=".concat(this.page);this.filter.dates[1]&&(e+="&from=".concat(this.filter.dates[0],"&to=").concat(this.filter.dates[1])),this.data=[],this.CallAPI("get",e,{},(function(e){for(var n in t.totalItems=e.data.total,e.data.data)t.data.push({code:e.data.data[n].code,phone:e.data.data[n].phone,amount:e.data.data[n].amount,money:e.data.data[n].money,token:e.data.data[n].token,status:e.data.data[n].status,created_at:e.data.data[n].created_at,txhash:e.data.data[n].txhash?e.data.data[n].txhash:0})}))},formatDate:function(t){var e=new Date(t);return e.toLocaleString()},formatMoney:function(t){return t?String(parseFloat(t).toFixed(0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},totalAmount:function(t,e){var n=t.filter((function(t){return t.token==e})),a=0,r=0;return n.forEach((function(t){a+=t.amount,r+=t.rate*t.amount})),{total:a,average:this.formatMoney(r/a)}},getDataExport:function(){var t=this,e=new Date,n=new Date(e.getFullYear(),e.getMonth(),1);n=n.toLocaleDateString().split("/").reverse().join("-");var a=new Date(e.getFullYear(),e.getMonth()+1,0);a=a.toLocaleDateString().split("/").reverse().join("-");var r="ref-order?page=1&perPage=999&from=".concat(n,"&to=").concat(a);this.CallAPI("get",r,{},(function(e){t.excel_htmls='\n              <tr>\n                <td colspan="9" style="text-align: center"><b>BÁO CÁO DOANH SỐ CỦA '.concat(t.$route.params.id,'</b></td>\n              </tr>\n              <tr>\n                  <th style="width: 60px">STT</th>\n                  <th style="width: 80px">Mã đơn</th>\n                  <th style="width: 80px">Loại đơn</th>\n                  <th style="width: 100px">Số điện thoại</th>\n                  <th style="width: 120px">Thời gian</th>\n                  <th style="width: 80px">Tiền phí</th>\n                  <th style="width: 150px">Số lượng</th>\n                  <th style="width: 100px">Tỷ giá</th>\n                  <th style="width: 150px">Số tiền</th>\n              </tr>\n          ');var n,a=u(e.data.data.entries());try{for(a.s();!(n=a.n()).done;){var r=d(n.value,2),o=r[0],i=r[1];t.excel_htmls+='\n                  <tr>\n                      <td style="text-align: center">'.concat(o+1,"</td>\n                      <td>").concat(i.code,'</td>\n                      <td style="text-align: center">').concat(i.txhash?"Đơn mua":"Đơn bán",'</td>\n                      <td style="text-align: center">').concat(i.phone,"</td>\n                      <td>").concat(t.formatDate(i.created_at),"</td>\n                      <td>").concat(t.formatMoney(i.fee),'</td>\n                      <td class="uppercase" style="text-align: center">').concat(i.amount," ").concat(i.token,"</td>\n                      <td>").concat(t.formatMoney(i.rate),"</td>\n                      <td>").concat(t.formatMoney(i.money),"</td>\n                  </tr>\n              "),i.money,i.fee}}catch(l){a.e(l)}finally{a.f()}t.excel_htmls+='\n            <tr style="color: red">\n              <td colspan="6" rowspan="5" style="text-align: center; vertical-align: middle;"><b>Tổng doanh số</b></td>\n              <td style="text-align: center"><b>'.concat(t.totalAmount(e.data.data,"usdt").total,' USDT</b></td>\n            </tr>\n            <tr style="color: red">\n              <td style="text-align: center"><b>').concat(t.totalAmount(e.data.data,"btc").total,' BTC</b></td>\n            </tr>\n            <tr style="color: red">\n              <td style="text-align: center"><b>').concat(t.totalAmount(e.data.data,"eth").total,' ETH</b></td>\n            </tr>\n            <tr style="color: red">\n              <td style="text-align: center"><b>').concat(t.totalAmount(e.data.data,"busd").total,' BUSD</b></td>\n            </tr>\n            <tr style="color: red">\n              <td style="text-align: center"><b>').concat(t.totalAmount(e.data.data,"bnb").total," BNB</b></td>\n            </tr>\n          ")}))},exportReport:function(){var t="data:application/vnd.ms-excel;base64,",e='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns="http://www.w3.org/TR/REC-html40"><head><meta charset="UTF-8">\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head><body><table border>{table}</table></body></html>',n=function(t){return window.btoa(unescape(encodeURIComponent(t)))},a=function(t,e){return t.replace(/{(\w+)}/g,(function(t,n){return e[n]}))},r={worksheet:"Worksheet",table:this.excel_htmls},o=document.createElement("a");o.download="Báo cáo doanh số của ".concat(this.$route.params.id,".xls"),o.href=t+n(a(e,r)),o.click()},copyText:function(t){this.$toast.success("Copy thành công"),navigator.clipboard.writeText(t)}},watch:{page:function(){this.getData()},search:function(){this.search||this.getData()},"filter.dates":function(){!this.filter.dates[1]&&this.filter.dates[0]||this.getData()}}},p=v,m=n("2877"),g=Object(m["a"])(p,a,r,!1,null,null,null);e["default"]=g.exports},"9bdd":function(t,e,n){var a=n("825a"),r=n("2a62");t.exports=function(t,e,n,o){try{return o?e(a(n)[0],n[1]):e(n)}catch(i){r(t,"throw",i)}}},a15b:function(t,e,n){"use strict";var a=n("23e7"),r=n("44ad"),o=n("fc6a"),i=n("a640"),l=[].join,c=r!=Object,s=i("join",",");a({target:"Array",proto:!0,forced:c||!s},{join:function(t){return l.call(o(this),void 0===t?",":t)}})},a630:function(t,e,n){var a=n("23e7"),r=n("4df4"),o=n("1c7e"),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:r})},d28b:function(t,e,n){var a=n("746f");a("iterator")},e01a:function(t,e,n){"use strict";var a=n("23e7"),r=n("83ab"),o=n("da84"),i=n("5135"),l=n("861d"),c=n("9bf2").f,s=n("e893"),d=o.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(u[e]=!0),e};s(f,d);var h=f.prototype=d.prototype;h.constructor=f;var v=h.toString,p="Symbol(test)"==String(d("test")),m=/^Symbol\((.*)\)[^)]+$/;c(h,"description",{configurable:!0,get:function(){var t=l(this)?this.valueOf():this,e=v.call(t);if(i(u,t))return"";var n=p?e.slice(7,-1):e.replace(m,"$1");return""===n?void 0:n}}),a({global:!0,forced:!0},{Symbol:f})}},fb6a:function(t,e,n){"use strict";var a=n("23e7"),r=n("861d"),o=n("e8b5"),i=n("23cb"),l=n("50c4"),c=n("fc6a"),s=n("8418"),d=n("b622"),u=n("1dde"),f=u("slice"),h=d("species"),v=[].slice,p=Math.max;a({target:"Array",proto:!0,forced:!f},{slice:function(t,e){var n,a,d,u=c(this),f=l(u.length),m=i(t,f),g=i(void 0===e?f:e,f);if(o(u)&&(n=u.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[h],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(u,m,g);for(a=new(void 0===n?Array:n)(p(g-m,0)),d=0;m<g;m++,d++)m in u&&s(a,d,u[m]);return a.length=d,a}})}}]);