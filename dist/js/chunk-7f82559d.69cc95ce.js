(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f82559d"],{a55b:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",{staticClass:"mb-pt-0"},[s("v-container",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("div",{staticClass:"system"},[s("h1",[t._v("Đăng nhập")]),s("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("label",[t._v("Số điện thoại")]),s("v-text-field",{attrs:{type:"number","prepend-inner-icon":"mdi-account-outline",rules:[t.rules.required,t.rules.phone,t.rules.not_exists],filled:"",rounded:"",required:"",placeholder:"Nhập số điện thoại"},on:{input:function(e){t.rules.not_exists=!0}},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),s("label",[t._v("Mật khẩu")]),s("v-text-field",{attrs:{type:t.show_pass?"text":"password",rules:[t.rules.required,t.rules.password,t.rules.invalid],"prepend-inner-icon":"mdi-lock","append-icon":t.show_pass?"mdi-eye":"mdi-eye-off",filled:"",rounded:"",placeholder:"Nhập mật khẩu"},on:{input:function(e){t.rules.invalid=!0},"click:append":function(e){t.show_pass=!t.show_pass}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("v-btn",{staticClass:"elevation-0",attrs:{color:"primary",block:"","x-large":"",rounded:"",disabled:!t.valid},on:{click:t.loginHandle}},[t._v("Đăng nhập")]),s("div",{staticClass:"mt-3 create-account"},[t._v(" Chưa có tài khoản? "),s("span",{on:{click:function(e){return t.$router.push("register")}}},[t._v("Đăng ký ngay")])])],1)],1)]),t.mobile?t._e():s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-card",[s("div",{staticClass:"px-6 py-5 title d-flex align-center"},[s("v-icon",{staticClass:"mr-1",attrs:{color:"primary"}},[t._v("mdi-chart-box-outline ")]),s("span",[t._v("Tỷ giá trực tuyến")])],1),s("v-divider"),s("div",{staticClass:"pa-6"},[s("v-tabs",{attrs:{color:t.tab?"error":"primary","fixed-tabs":"","background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab",{attrs:{value:"0"}},[t._v("Mua")]),s("v-tab",{attrs:{value:"1"}},[t._v("Bán")])],1),s("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[s("v-tab-item",t._l(t.asset_list,(function(e,a){return s("div",{key:a,staticClass:"asset",on:{click:function(s){return t.$router.push("/buy/"+e.symbol)}}},[s("img",{attrs:{src:"/img/p2p/"+e.symbol+".svg",alt:""}}),s("div",{staticClass:"name"},[t._v(t._s(e.symbol))]),s("v-spacer"),s("v-btn",{attrs:{color:"primary",width:"150px"}},[t._v(" "+t._s(t.formatMoney(e.buy_rate))+" ₫ ")])],1)})),0),s("v-tab-item",t._l(t.asset_list,(function(e,a){return s("div",{key:a,staticClass:"asset",on:{click:function(s){return t.$router.push("/sell/"+e.symbol)}}},[s("img",{attrs:{src:"/img/p2p/"+e.symbol+".svg",alt:""}}),s("div",{staticClass:"name"},[t._v(t._s(e.symbol))]),s("v-spacer"),s("v-btn",{attrs:{color:"error",width:"150px"}},[t._v(" "+t._s(t.formatMoney(e.sell_rate))+" ₫ ")])],1)})),0)],1)],1)],1)],1)],1)],1)],1)},n=[],r=(s("159b"),s("caad"),s("ac1f"),s("5319"),s("d3b7"),s("25f0"),s("b680"),s("fb6a"),{data:function(){return{tab:0,asset_list:"",interval:"",show_pass:!1,valid:!1,phone:"",password:"",rules:{required:function(t){return!!t||"Không được bỏ trống"},phone:function(t){return/(84|0[3|5|7|8|9])+([0-9]{8})\b/g.test(t)||"Số điện thoại không hợp lệ"},password:function(t){return t&&t.length>=6||"Mật khẩu tối thiểu 6 ký tự"},not_exists:!0,invalid:!0}}},computed:{mobile:function(){return this.$vuetify.breakpoint.width<1025}},mounted:function(){this.getAsset()},methods:{loginHandle:function(){var t=this;if(this.$refs.form.validate(),this.phone&&this.password){var e={phone:this.phone,password:this.password};this.CallAPI("post","auth/login",e,(function(e){localStorage.setItem("access_token",e.data.access_token),t.mobile?t.$router.push("/home"):t.$router.push("/"),t.getProfile()}),(function(e){400!=e.response.status?t.rules.invalid=e.response.data.message[0]:t.rules.not_exists=e.response.data.message[0]}))}},getProfile:function(){var t=this;this.CallAPI("get","profile",{},(function(e){t.$store.dispatch("setAccount",e.data)}),(function(t){return localStorage.clear()}))},getAsset:function(){var t=this;this.CallAPI("get","asset",{},(function(e){t.asset_list=e.data,t.interval=setInterval((function(){t.asset_list=[],e.data.forEach((function(e){var s=e.buy_rate,a=e.sell_rate;["btc","eth","bnb"].includes(e.symbol)&&(s=t.dynamicNum(e.buy_rate),a=t.dynamicNum(e.sell_rate)),t.asset_list.push({symbol:e.symbol,buy_rate:s,sell_rate:a})}))}),5e3)}))},formatMoney:function(t){return t?String(parseFloat(t).toFixed(0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0},randomNum:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},dynamicNum:function(t){var e=String(t),s=e.length<8?this.randomNum(1,3):this.randomNum(2,4),a=e.slice(0,-s-1);return a+this.randomNum(Math.pow(10,s),9*Math.pow(10,s))}},beforeDestroy:function(){clearInterval(this.interval)}}),i=r,o=s("2877"),l=Object(o["a"])(i,a,n,!1,null,null,null);e["default"]=l.exports},caad:function(t,e,s){"use strict";var a=s("23e7"),n=s("4d64").includes,r=s("44d2");a({target:"Array",proto:!0},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},fb6a:function(t,e,s){"use strict";var a=s("23e7"),n=s("861d"),r=s("e8b5"),i=s("23cb"),o=s("50c4"),l=s("fc6a"),c=s("8418"),u=s("b622"),d=s("1dde"),p=d("slice"),v=u("species"),h=[].slice,f=Math.max;a({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var s,a,u,d=l(this),p=o(d.length),m=i(t,p),b=i(void 0===e?p:e,p);if(r(d)&&(s=d.constructor,"function"!=typeof s||s!==Array&&!r(s.prototype)?n(s)&&(s=s[v],null===s&&(s=void 0)):s=void 0,s===Array||void 0===s))return h.call(d,m,b);for(a=new(void 0===s?Array:s)(f(b-m,0)),u=0;m<b;m++,u++)m in d&&c(a,u,d[m]);return a.length=u,a}})}}]);