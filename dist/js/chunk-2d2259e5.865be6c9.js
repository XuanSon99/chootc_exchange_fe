(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2259e5"],{e4bb:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("v-container",[a("v-card",[a("v-tabs",{staticClass:"px-4 pt-4",attrs:{color:t.tab?"error":"primary","background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab",{attrs:{value:"0"},on:{click:function(e){return t.$router.push("/history/buy")}}},[t._v("Giao dịch mua")]),a("v-tab",{attrs:{value:"1"},on:{click:function(e){return t.$router.push("/history/sell")}}},[t._v("Giao dịch bán")])],1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",[a("v-card-title",[t._v(" Lịch sử giao dịch "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Tìm kiếm","single-line":"","hide-details":""},model:{value:t.buy_search,callback:function(e){t.buy_search=e},expression:"buy_search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.buy_order},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.created_at))+" ")]}},{key:"item.status",fn:function(e){var r=e.item;return[t.stateDetail(r.status)?a("span",{style:{color:""+t.stateDetail(r.status).color}},[t._v(" "+t._s(t.stateDetail(r.status).status)+" ")]):t._e()]}},{key:"item.money",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatMoney(a.money))+" ₫ ")]}},{key:"item.rate",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatMoney(a.rate))+" ₫ ")]}},{key:"item.amount",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.amount)+" "+t._s(a.token.toUpperCase())+" ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"default",small:""},on:{click:function(e){return t.detailOrder(r)}}},[t._v("Chi tiết")])]}}],null,!0)})],1),a("v-tab-item",[a("v-card-title",[t._v(" Lịch sử giao dịch "),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Tìm kiếm","single-line":"","hide-details":""},model:{value:t.sell_search,callback:function(e){t.sell_search=e},expression:"sell_search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.sell_order},scopedSlots:t._u([{key:"item.created_at",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatDate(a.created_at))+" ")]}},{key:"item.status",fn:function(e){var r=e.item;return[t.stateDetail(r.status)?a("span",{style:{color:""+t.stateDetail(r.status).color}},[t._v(" "+t._s(t.stateDetail(r.status).status)+" ")]):t._e()]}},{key:"item.rate",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatMoney(a.rate))+" ₫ ")]}},{key:"item.money",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.formatMoney(a.money))+" ₫ ")]}},{key:"item.amount",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.amount)+" "+t._s(a.token.toUpperCase())+" ")]}},{key:"item.actions",fn:function(e){var r=e.item;return[a("v-btn",{attrs:{color:"default",small:""},on:{click:function(e){return t.detailOrder(r)}}},[t._v("Chi tiết")])]}}],null,!0)})],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",[t._v("Chi tiết giao dịch")]),a("v-spacer"),a("v-btn",{attrs:{icon:""},on:{click:function(e){t.dialog=!1}}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-divider"),a("div",{staticClass:"pa-6"},[a("v-simple-table",[a("tbody",[a("tr",[a("td",[t._v("Mã giao dịch:")]),a("td",[t._v(t._s(t.detail_order.code))])]),a("tr",[a("td",{staticStyle:{width:"150px"}},[t._v("Số lượng:")]),a("td",{staticClass:"upper-case"},[t._v(t._s(t.formatMoney(t.detail_order.amount))+" "+t._s(t.detail_order.token)+" ("+t._s(t.detail_order.network)+")")])]),a("tr",[a("td",[t._v("Tỷ giá:")]),a("td",[t._v(t._s(t.formatMoney(t.detail_order.rate))+" ₫")])]),a("tr",[a("td",[t._v("Thành tiền:")]),a("td",[t._v(t._s(t.formatMoney(t.detail_order.money))+" ₫")])]),a("tr",[a("td",[t._v("Phí blockchain:")]),a("td",[t._v(t._s(t.formatMoney(t.detail_order.fee))+" ₫")])]),t.detail_order.address?a("tr",[a("td",[t._v("Ví nhận:")]),a("td",[t._v(t._s(t.detail_order.address))])]):t._e(),t.detail_order.account_number?a("tr",[a("td",[t._v("Ngân hàng nhận:")]),a("td",[t._v(" "+t._s(t.detail_order.account_number)+" - "+t._s(t.detail_order.bank_name)+" "),a("br"),t._v(" "+t._s(t.detail_order.owner_name)+" ")])]):t._e(),a("tr",[a("td",[t._v("Thời gian:")]),a("td",[t._v(t._s(t.formatDate(t.detail_order.created_at)))])]),t.detail_order.description?a("tr",[a("td",[t._v("Mô tả:")]),a("td",[t._v(t._s(t.detail_order.description))])]):t._e(),a("tr",[a("td",[t._v("Trạng thái:")]),a("td",[t.stateDetail(t.detail_order.status)?a("span",{style:{color:""+t.stateDetail(t.detail_order.status).color}},[t._v(" "+t._s(t.stateDetail(t.detail_order.status).status)+" ")]):t._e()])])])])],1)],1)],1)],1)},i=[],s=(a("4de4"),a("ac1f"),a("5319"),a("d3b7"),a("25f0"),a("b680"),{data:function(){return{dialog:!1,buy_search:"",sell_search:"",tab:0,headers:[{text:"Mã giao dịch",value:"code",sortable:!1},{text:"Số lượng",value:"amount",sortable:!1},{text:"Tỷ giá",value:"rate",sortable:!1},{text:"Thành tiền",value:"money",sortable:!1},{text:"Thời gian",value:"created_at",sortable:!1},{text:"Trạng thái",value:"status",sortable:!1},{text:"Hoạt động",value:"actions",sortable:!1}],buy_order:[],sell_order:[],state_list:"",detail_order:""}},mounted:function(){var t=this;this.getBuyOrder(),this.getSellOrder(),this.CallAPI("get","states",{},(function(e){t.state_list=e.data})),"sell"==this.$route.params.id&&(this.tab=1),"buy"==this.$route.params.id&&(this.tab=0)},methods:{stateDetail:function(t){if(!this.state_list)return"";var e=this.state_list.filter((function(e){return e.id==t}));return e[0]},getBuyOrder:function(){var t=this;this.CallAPI("get","buy-order",{},(function(e){t.buy_order=e.data}))},getSellOrder:function(){var t=this;this.CallAPI("get","sell-order",{},(function(e){t.sell_order=e.data}))},detailOrder:function(t){this.dialog=!0,this.detail_order=t},formatDate:function(t){var e=new Date(t);return e.toLocaleString()},formatMoney:function(t){return t?String(parseFloat(t).toFixed(0)).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):0}},watch:{"$route.params.id":function(){"sell"==this.$route.params.id&&(this.tab=1),"buy"==this.$route.params.id&&(this.tab=0)}}}),n=s,o=a("2877"),l=Object(o["a"])(n,r,i,!1,null,null,null);e["default"]=l.exports}}]);